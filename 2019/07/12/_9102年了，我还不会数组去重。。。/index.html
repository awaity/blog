<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>数组去重的几种方法总结 | 拾光栈</title>
    <meta name="description" content="This is a blog example built by VuePress">
    
    
    <link rel="preload" href="/blog/assets/css/0.styles.702fe0f5.css" as="style"><link rel="preload" href="/blog/assets/js/app.31534452.js" as="script"><link rel="preload" href="/blog/assets/js/4.d15b74a6.js" as="script"><link rel="preload" href="/blog/assets/js/5.c4173a15.js" as="script"><link rel="preload" href="/blog/assets/js/18.da080a73.js" as="script"><link rel="prefetch" href="/blog/assets/js/1.8e615044.js"><link rel="prefetch" href="/blog/assets/js/10.38646ebc.js"><link rel="prefetch" href="/blog/assets/js/11.5e45e718.js"><link rel="prefetch" href="/blog/assets/js/12.bca40a64.js"><link rel="prefetch" href="/blog/assets/js/13.ab4f2fa8.js"><link rel="prefetch" href="/blog/assets/js/14.19ec770d.js"><link rel="prefetch" href="/blog/assets/js/15.154e9b28.js"><link rel="prefetch" href="/blog/assets/js/16.a5713e46.js"><link rel="prefetch" href="/blog/assets/js/17.35171b48.js"><link rel="prefetch" href="/blog/assets/js/19.27204604.js"><link rel="prefetch" href="/blog/assets/js/20.bcda96f3.js"><link rel="prefetch" href="/blog/assets/js/21.42dcf2a1.js"><link rel="prefetch" href="/blog/assets/js/22.ed530b69.js"><link rel="prefetch" href="/blog/assets/js/23.cc7c59ce.js"><link rel="prefetch" href="/blog/assets/js/24.31671f84.js"><link rel="prefetch" href="/blog/assets/js/25.c3b6d6da.js"><link rel="prefetch" href="/blog/assets/js/26.466639b6.js"><link rel="prefetch" href="/blog/assets/js/27.a7509580.js"><link rel="prefetch" href="/blog/assets/js/6.c6f01abb.js"><link rel="prefetch" href="/blog/assets/js/7.7602237e.js"><link rel="prefetch" href="/blog/assets/js/8.2b0dfbf7.js"><link rel="prefetch" href="/blog/assets/js/9.62f3f834.js"><link rel="prefetch" href="/blog/assets/js/vuejs-paginate.e7121bfe.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.702fe0f5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuperess-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><div class="title"><a href="/blog/" class="nav-link home-link">拾光栈
        </a></div> <div class="header-right-wrap"><ul class="nav"><li class="nav-item"><a href="/blog/tag/" class="nav-link">标签</a></li><li class="nav-item"><a href="/blog/note/" class="nav-link">技术笔记</a></li><li class="nav-item"><a href="/blog/about/" class="nav-link">关于我</a></li></ul> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div></div></header></section> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/blog/" class="nav-link mobile-home-link">拾光栈
      </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="/blog/tag/" class="nav-link">标签</a></li><li class="mobile-nav-item"><a href="/blog/note/" class="nav-link">技术笔记</a></li><li class="mobile-nav-item"><a href="/blog/about/" class="nav-link">关于我</a></li></ul></div></div></div> <div class="content-wrapper"><div id="vuperess-theme-blog__post-layout"><div class="vuepress-blog-theme-content"><div class="content__default"><h1 id="数组去重的几种方法总结"><a href="#数组去重的几种方法总结" class="header-anchor">#</a> 数组去重的几种方法总结</h1> <p><img src="http://image.wufazhuce.com/FlUgT0jeM_5iPcgS_TiWsOMdW2cx" alt="人生下来的时候都只有一半，为了找到另一半而在人世间行走。有的人很幸运，很快就找到了。而有人却要找一辈子。"></p> <blockquote><p>人生下来的时候都只有一半，为了找到另一半而在人世间行走。有的人很幸运，很快就找到了。而有人却要找一辈子。</p></blockquote> <p>​	最近准备面试中，才发现数组去重都忘了。。。赶紧总结一波，刚建好博客，不能一直划水了。。。萌新第一篇总结，有不对之处，欢迎指正。</p> <h2 id="_1-双重for循环"><a href="#_1-双重for循环" class="header-anchor">#</a> 1.双重for循环</h2> <blockquote><p>将数组的前一项和后面的每一项进行比较，如果相等，删除后一项，同时数组长度（下标）也要-1</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">unique</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> j<span class="token operator">=</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                j<span class="token operator">--</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> arr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_2-es6的-set-数据结构"><a href="#_2-es6的-set-数据结构" class="header-anchor">#</a> 2.ES6的 <code>Set</code> 数据结构</h2> <blockquote><p>利用ES6的 <code>Set</code> 数据结构拥有唯一值的特性进行数组去重，ps：我这么懒，就喜欢这样代码少的</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">unique</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    	<span class="token keyword">throw</span> <span class="token string">'type error'</span>
      <span class="token punctuation">}</span>
    	<span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token operator">...</span>new <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
</code></pre></div><h2 id="_3-indexof-filter"><a href="#_3-indexof-filter" class="header-anchor">#</a> 3. <code>indexOf</code> + <code>filter</code></h2> <blockquote><p>利用 <code>indexOf</code> 检测元素在数组中第一次出现的位置是否和元素现在的位置相等，如果不等则说明该元素是重复元素,利用filter方法筛选出数组中的唯一项，返回排序后的数组</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">unique</span><span class="token operator">=</span><span class="token keyword">function</span> <span class="token function">unique</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     <span class="token comment">//this指当前类的实例，也就是我们要操作的数组</span>
     	<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span>index</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
     		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token operator">==</span>index
     	<span class="token punctuation">}</span><span class="token punctuation">)</span>
     <span class="token punctuation">}</span>
<span class="token keyword">var</span> arr1<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> arr1<span class="token punctuation">.</span><span class="token function">unique</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//(8) [1, 2, 5, 7, 8, 0, 9, 4]</span>
</code></pre></div><h2 id="_4-对数组的原型方法扩展1"><a href="#_4-对数组的原型方法扩展1" class="header-anchor">#</a> 4.对数组的原型方法扩展1</h2> <blockquote><ol><li>不改变原有数组</li> <li>创建一个空对象和空数组，循环将数组每一项添加到该对象中，判断如果当前项不在该对象中，则push到空数组中，返回去重后的数组</li></ol></blockquote> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">unique</span><span class="token operator">=</span><span class="token keyword">function</span> <span class="token function">unique</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     <span class="token keyword">var</span> temp<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>arr<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>len<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
         <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>len<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
             <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>temp<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                 temp<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
                 arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
             <span class="token punctuation">}</span>
         <span class="token punctuation">}</span>
         <span class="token keyword">return</span> arr
     <span class="token punctuation">}</span>
     <span class="token keyword">var</span> arr1<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> arr1<span class="token punctuation">.</span><span class="token function">unique</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//(8) [0, 1, 2, 4, 5, 7, 8, 9]</span>
</code></pre></div><h2 id="_5-对数组的原型方法扩展2"><a href="#_5-对数组的原型方法扩展2" class="header-anchor">#</a> 5.对数组的原型方法扩展2</h2> <blockquote><ol><li>改变原有数组</li> <li>创建一个空对象，循环将数组每一项添加到该对象中，利用 <code>hasOwnProperty()</code> 判断当前项在不在该对象中，在的话删除，不在就添加，手动释放obj占的堆内存，返回去重后的数组</li></ol></blockquote> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">unique</span><span class="token operator">=</span><span class="token keyword">function</span> <span class="token function">unique</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     <span class="token keyword">var</span> obj<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
     <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token keyword">this</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
         <span class="token keyword">var</span> item<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span>
         obj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>i<span class="token operator">--</span><span class="token punctuation">)</span><span class="token punctuation">:</span>obj<span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token operator">=</span>item
     <span class="token punctuation">}</span>
     obj<span class="token operator">=</span><span class="token keyword">null</span>
     <span class="token keyword">return</span> <span class="token keyword">this</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">var</span> arr1<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr1<span class="token punctuation">.</span><span class="token function">unique</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//(8) [1, 2, 5, 7, 8, 0, 9, 4]</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token comment">//(8) [1, 2, 5, 7, 8, 0, 9, 4]</span>
</code></pre></div><h2 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h2> <p>数组去重方法有很多种，孰优孰劣，还要根据具体使用场景判断，另外上述对于数组原型方法的扩展，由于返回的还是一个数组，可以进行链式操作，比较方便（b格高233）。</p></div> <hr> <!----></div> <div class="sticker vuepress-toc"><div class="vuepress-toc-item vuepress-toc-h2 active"><a href="#_1-双重for循环" title="1.双重for循环">1.双重for循环</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#_2-es6的-set-数据结构" title="2.ES6的 Set 数据结构">2.ES6的 Set 数据结构</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#_3-indexof-filter" title="3. indexOf + filter">3. indexOf + filter</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#_4-对数组的原型方法扩展1" title="4.对数组的原型方法扩展1">4.对数组的原型方法扩展1</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#_5-对数组的原型方法扩展2" title="5.对数组的原型方法扩展2">5.对数组的原型方法扩展2</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#总结" title="总结">总结</a></div></div></div></div> <footer class="footer" data-v-5317f8db><div class="footer-left-wrap" data-v-5317f8db><ul class="contact" data-v-5317f8db><li class="contact-item" data-v-5317f8db><a href="https://github.com/ulivz" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-5317f8db><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github" data-v-5317f8db><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22" data-v-5317f8db></path></svg>
          
        </a></li><li class="contact-item" data-v-5317f8db><a href="https://twitter.com/_ulivz" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-5317f8db><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter" data-v-5317f8db><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z" data-v-5317f8db></path></svg>
          
        </a></li></ul></div> <div class="footer-right-wrap" data-v-5317f8db><ul class="copyright" data-v-5317f8db><li class="copyright-item" data-v-5317f8db><a href="https://policies.google.com/privacy?hl=en-US" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-5317f8db>Privacy Policy</a></li><li class="copyright-item" data-v-5317f8db><a href="/blog/2019/07/12/_9102%E5%B9%B4%E4%BA%86%EF%BC%8C%E6%88%91%E8%BF%98%E4%B8%8D%E4%BC%9A%E6%95%B0%E7%BB%84%E5%8E%BB%E9%87%8D%E3%80%82%E3%80%82%E3%80%82/.html" class="nav-link" data-v-5317f8db>MIT Licensed | Copyright © 2018-present Vue.js</a></li></ul></div></footer></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.31534452.js" defer></script><script src="/blog/assets/js/4.d15b74a6.js" defer></script><script src="/blog/assets/js/5.c4173a15.js" defer></script><script src="/blog/assets/js/18.da080a73.js" defer></script>
  </body>
</html>
